---
import SocialLinks from './ui/SocialLinks.astro';
---

<header class="fixed top-0 left-0 right-0 z-50 transition-all duration-500" id="header">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex items-center justify-between h-18 sm:h-20">
      <!-- Логотип -->
      <a href="#" class="flex items-center gap-2.5 group">
        <svg class="w-8 h-8 text-peach-400" viewBox="0 0 32 32" fill="none">
          <circle cx="16" cy="16" r="14" stroke="currentColor" stroke-width="1.5"/>
          <circle cx="16" cy="16" r="9" stroke="currentColor" stroke-width="1"/>
          <line x1="16" y1="2" x2="16" y2="30" stroke="currentColor" stroke-width="0.8" opacity="0.5"/>
          <line x1="2" y1="16" x2="30" y2="16" stroke="currentColor" stroke-width="0.8" opacity="0.5"/>
          <circle cx="16" cy="5" r="1.8" fill="currentColor"/>
          <circle cx="25" cy="10" r="1.5" fill="currentColor" opacity="0.8"/>
          <circle cx="8" cy="22" r="1.5" fill="currentColor" opacity="0.8"/>
          <circle cx="24" cy="24" r="1.8" fill="currentColor"/>
          <circle cx="10" cy="10" r="1.3" fill="currentColor" opacity="0.6"/>
        </svg>
        <span class="font-script text-xl sm:text-2xl text-dark-900 group-hover:text-peach-500 transition-colors">Юлия Плотникова</span>
      </a>

      <!-- Навигация (десктоп) -->
      <nav class="hidden md:flex items-center gap-8">
        <a href="#about" class="text-dark-500 hover:text-dark-900 transition-colors font-medium">О себе</a>
        <a href="#services" class="text-dark-500 hover:text-dark-900 transition-colors font-medium">Услуги</a>
        <a href="#reviews" class="text-dark-500 hover:text-dark-900 transition-colors font-medium">Отзывы</a>
        <a href="#faq" class="text-dark-500 hover:text-dark-900 transition-colors font-medium">FAQ</a>
        <a
          href="https://t.me/+79100051667"
          target="_blank"
          rel="noopener noreferrer"
          class="px-6 py-2.5 bg-dark-900 text-white rounded-full font-medium hover:bg-dark-800 transition-all duration-300 shadow-md hover:shadow-lg whitespace-nowrap"
        >
          Записаться
        </a>
      </nav>

      <!-- Кнопка мобильного меню -->
      <button class="md:hidden p-2 text-dark-500 hover:text-dark-900 transition-colors" id="mobile-menu-btn" aria-label="Меню">
        <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" id="menu-icon-open" />
        </svg>
      </button>
    </div>
  </div>

  <!-- Мобильное меню -->
  <div class="md:hidden hidden" id="mobile-menu">
    <div class="bg-white/95 backdrop-blur-md border-t border-warm-300 shadow-lg">
      <nav class="flex flex-col px-6 py-4 gap-1">
        <a href="#about" class="py-3 text-dark-700 hover:text-peach-500 transition-colors font-medium mobile-link">О себе</a>
        <a href="#services" class="py-3 text-dark-700 hover:text-peach-500 transition-colors font-medium mobile-link">Услуги</a>
        <a href="#reviews" class="py-3 text-dark-700 hover:text-peach-500 transition-colors font-medium mobile-link">Отзывы</a>
        <a href="#faq" class="py-3 text-dark-700 hover:text-peach-500 transition-colors font-medium mobile-link">FAQ</a>
        <a
          href="https://t.me/+79100051667"
          target="_blank"
          rel="noopener noreferrer"
          class="mt-2 px-6 py-3 bg-dark-900 text-white rounded-full font-medium text-center hover:bg-dark-800 transition-all whitespace-nowrap"
        >
          Записаться
        </a>
      </nav>
    </div>
  </div>
</header>

<script>
  const header = document.getElementById('header');
  let lastScroll = 0;

  function updateHeader() {
    const currentScroll = window.scrollY;
    if (!header) return;

    if (currentScroll > 80) {
      header.classList.add('bg-white/90', 'backdrop-blur-md', 'shadow-sm');
    } else {
      header.classList.remove('bg-white/90', 'backdrop-blur-md', 'shadow-sm');
    }
    lastScroll = currentScroll;
  }

  window.addEventListener('scroll', updateHeader, { passive: true });
  updateHeader();

  const mobileBtn = document.getElementById('mobile-menu-btn');
  const mobileMenu = document.getElementById('mobile-menu');

  mobileBtn?.addEventListener('click', () => {
    mobileMenu?.classList.toggle('hidden');
  });

  document.querySelectorAll('.mobile-link').forEach(link => {
    link.addEventListener('click', () => {
      mobileMenu?.classList.add('hidden');
    });
  });
</script>
